{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/ui/public/agg_types/agg_type.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/ui/public/agg_types/agg_type.js","mtime":1567631711696},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AggType = undefined;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _agg_params = require('./agg_params');\n\nvar _field_formats = require('../registry/field_formats');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Generic AggType Constructor\n *\n * Used to create the values exposed by the agg_types module.\n *\n * @class AggType\n * @private\n * @param {object} config - used to set the properties of the AggType\n */\nfunction AggType(config) {\n\n  /**\n   * the unique, unchanging, name that we have assigned this aggType\n   *\n   * @property name\n   * @type {string}\n   */\n  this.name = config.name;\n\n  /**\n   * the name of the elasticsearch aggregation that this aggType represents. Usually just this.name\n   *\n   * @property name\n   * @type {string}\n   */\n  this.dslName = config.dslName || config.name;\n\n  /**\n   * the user friendly name that will be shown in the ui for this aggType\n   *\n   * @property title\n   * @type {string}\n   */\n  this.title = config.title;\n\n  /**\n   * a function that will be called when this aggType is assigned to\n   * an aggConfig, and that aggConfig is being rendered (in a form, chart, etc.).\n   *\n   * @method makeLabel\n   * @param {AggConfig} aggConfig - an agg config of this type\n   * @returns {string} - label that can be used in the ui to describe the aggConfig\n   */\n  this.makeLabel = config.makeLabel || _lodash2.default.constant(this.name);\n\n  /**\n   * Describes if this aggType creates data that is ordered, and if that ordered data\n   * is some sort of time series.\n   *\n   * If the aggType does not create ordered data, set this to something \"falsy\".\n   *\n   * If this does create orderedData, then the value should be an object.\n   *\n   * If the orderdata is some sort of time series, `this.ordered` should be an object\n   * with the property `date: true`\n   *\n   * @property ordered\n   * @type {object|undefined}\n   */\n  this.ordered = config.ordered;\n\n  /**\n   * Flag that prevents this aggregation from being included in the dsl. This is only\n   * used by the count aggregation (currently) since it doesn't really exist and it's output\n   * is available on every bucket.\n   *\n   * @type {Boolean}\n   */\n  this.hasNoDsl = !!config.hasNoDsl;\n\n  /**\n   * The method to create a filter representation of the bucket\n   * @param {object} aggConfig The instance of the aggConfig\n   * @param {mixed} key The key for the bucket\n   * @returns {object} The filter\n   */\n  this.createFilter = config.createFilter;\n\n  /**\n   * An instance of {{#crossLink \"AggParams\"}}{{/crossLink}}.\n   *\n   * @property params\n   * @type {AggParams}\n   */\n  this.params = config.params || [];\n  if (!(this.params instanceof _agg_params.AggParams)) {\n    // always append the raw JSON param\n    this.params.push({\n      name: 'json',\n      type: 'json',\n      advanced: true\n    });\n    // always append custom label\n\n    if (config.customLabels !== false) {\n      this.params.push({\n        name: 'customLabel',\n        type: 'string',\n        write: _lodash2.default.noop\n      });\n    }\n\n    this.params = new _agg_params.AggParams(this.params);\n  }\n\n  /**\n   * Designed for multi-value metric aggs, this method can return a\n   * set of AggConfigs that should replace this aggConfig in requests\n   *\n   * @method getRequestAggs\n   * @returns {array[AggConfig]|undefined} - an array of aggConfig objects\n   *                                         that should replace this one,\n   *                                         or undefined\n   */\n  this.getRequestAggs = config.getRequestAggs || _lodash2.default.noop;\n\n  /**\n   * Designed for multi-value metric aggs, this method can return a\n   * set of AggConfigs that should replace this aggConfig in result sets\n   * that walk the AggConfig set.\n   *\n   * @method getResponseAggs\n   * @returns {array[AggConfig]|undefined} - an array of aggConfig objects\n   *                                         that should replace this one,\n   *                                         or undefined\n   */\n  this.getResponseAggs = config.getResponseAggs || _lodash2.default.noop;\n\n  /**\n   * A function that will be called each time an aggConfig of this type\n   * is created, giving the agg type a chance to modify the agg config\n   */\n  this.decorateAggConfig = config.decorateAggConfig || null;\n\n  /**\n   * A function that needs to be called after the main request has been made\n   * and should return an updated response\n   * @param aggConfigs - agg config array used to produce main request\n   * @param aggConfig - AggConfig that requested the post flight request\n   * @param searchSourceAggs - SearchSource aggregation configuration\n   * @param resp - Response to the main request\n   * @param nestedSearchSource - the new SearchSource that will be used to make post flight request\n   * @return {Promise}\n   */\n  this.postFlightRequest = config.postFlightRequest || _lodash2.default.identity;\n\n  if (config.getFormat) {\n    this.getFormat = config.getFormat;\n  }\n}\n\n/**\n * Pick a format for the values produced by this agg type,\n * overridden by several metrics that always output a simple\n * number\n *\n * @param  {agg} agg - the agg to pick a format for\n * @return {FieldFormat}\n */\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nAggType.prototype.getFormat = function (agg) {\n  var field = agg.getField();\n  return field ? field.format : _field_formats.fieldFormats.getDefaultInstance('string');\n};\n\nexports.AggType = AggType;",null]}